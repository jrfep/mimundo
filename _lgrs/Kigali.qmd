---
title: Kigali
categories:
 - Rwanda
 - Congreso
 - Visita
 - IUCN RLE
---

![Kigali Convention Centre](http://i.imgur.com/hXu7hMl.jpg?1)


```{r}
#| echo: false
#| warning: false
#| message: false

library(FlickrAPI)
library(pixture)
library(dplyr)
here::i_am("lgrs/Trieste.qmd")
file_name <- here::here("data","flickr-photos.rds")
all_photos <- readRDS(file=file_name)
htmlcode <- "<center>\n<img src='%s' width='%s'  height='%s' class='preview-image'>\n<br/>\n**%s** by <a href='https://www.flickr.com/photos/%s/%s' target='flickr'>JR Ferrer Paris @ flickr</a><br/></center>"
```

```{r}
#| echo: false
#| output: asis
seleccion <- c("Rwanda|Kigali")
photos <- all_photos %>% filter(grepl(seleccion,title) )
show_photo <- photos %>% 
    slice_sample(n=1) %>%
    transmute(code = sprintf(htmlcode, url_m, width_m, height_m, title, owner, id)) %>% pull()
cat(show_photo)
```

```{r}
#| echo: false

if (nrow(photos)>1) {
    paths <- photos %>% pull(url_m)
    captions <- photos %>% 
       transmute(caption=sprintf("<strong>%s</strong> por <a href='https://www.flickr.com/photos/jferrer/%s' target='flickr'>JR Ferrer Paris @ flickr</a>", title, id)) %>% 
       pull()

    pixgallery(paths, caption=captions)

}

```


## Observaciones en iNaturalist

```{r}
#| echo: false
file_name <- here::here("data","iNaturalist-obs-NeoMapas.rds")
all_photos <- readRDS(file=file_name) 
paths <- all_photos %>% 
    filter(grepl("Kigali",place_guess)) %>% 
    pull(image_url)
captions <- all_photos %>% 
    filter(grepl("Kigali",place_guess)) %>% 
    transmute(caption=sprintf("<strong>%s</strong> (<emph>%s</emph>) by <a href='%s' target='iNat'>NeoMapas @ iNaturalist</a>",species_guess,scientific_name,url)) %>% pull()

pixgallery(paths, caption=captions)
```