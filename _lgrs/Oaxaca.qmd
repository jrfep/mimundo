---
title: Oaxaca y Monte Albán
categories:
 - Mexico
 - Conferencia
 - Sitios arqueológicos
---

Estuve en [Oaxaca](https://es.wikipedia.org/wiki/Oaxaca) para una [conferencia de Diversitas](/evnts/2005_Diversitas_I.qmd) en Noviembre de 2005.

Disfrutamos de la gastronomía, tanto la callejera como la de restaurantes locales, y aprovechamos algunos paseos para conocer sobre los textiles oaxaqueños y otras artesanías. 

También visitamos el sitio arqueológico de [Monte Albán](https://es.wikipedia.org/wiki/Monte_Alb%C3%A1n).

```{r}
#| warning: false
#| message: false
library(FlickrAPI)
library(pixture)
library(dplyr)
here::i_am("lgrs/Trieste.qmd")
```

```{r}
file_name <- here::here("data","google-photos.rds")
ggl_photos <- readRDS(file=file_name)

file_name <- here::here("data","iNaturalist-obs-NeoMapas.rds")
inat_photos <- readRDS(file=file_name)

seleccion <- c("Oaxaca|Monte Albán")
```


```{r}
#| output: asis

img_folder <- "img"

photos <- ggl_photos %>% 
    filter(
        album %in% "Lugares - México",
        grepl(seleccion,mediaItems.description))

```


```{r}
#| output: asis
htmlcode <- "<center>\n<img src='%s/%s-%s.jpg'>\n<br/>\n**%s** by <a href='%s' target='googlephotos'>JR Ferrer-Paris @ Google Photos</a><br/></center>"

show_photo <- ggl_photos %>% 
    filter(
        album %in% "Lugares - México",
        grepl(seleccion,mediaItems.description)) %>% 
    slice_sample(n=1) %>%
    transmute(code = sprintf(htmlcode, img_folder, output_id, output_file, mediaItems.description,mediaItems.productUrl)) %>% pull()
cat(show_photo)
```



## Galería de fotos

```{r}

paths <- sprintf("%s/%s-%s.jpg",img_folder, pull(photos, output_id), pull(photos, output_file))
captions <- photos %>% transmute(caption=sprintf("<strong>%s</strong>  por <a href='%s' target='googlephotos'>JR Ferrer-Paris @ Google Photos</a>",mediaItems.description,mediaItems.productUrl)) %>% pull

pixgallery(paths, caption=captions)

```

## Observaciones en `iNaturalist`


```{r}
paths <- inat_photos %>% 
    filter(grepl(seleccion,place_guess)) %>% 
    pull(image_url)
captions <- inat_photos %>% 
    filter(grepl(seleccion,place_guess)) %>% 
    transmute(caption=sprintf("<strong>%s</strong> (<emph>%s</emph>) by <a href='%s' target='iNat'>NeoMapas @ iNaturalist</a>",species_guess,scientific_name,url)) %>% pull()

pixgallery(paths, caption=captions)
```