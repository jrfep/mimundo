---
title: Darwin
categories:
 - Australia
 - Conferencia
 - Visita
 - Fuego
editor_options: 
  chunk_output_type: console
---


```{r}
#| echo: false
#| warning: false
#| message: false

library(pixture)
library(FlickrAPI)
library(dplyr)
here::i_am("lgrs/Trieste.qmd")

```

## Galería de fotos

```{r}
#| echo: false
#| warning: false
#| message: false

file_name <- here::here("data","flickr-photos.rds")
all_photos <- readRDS(file=file_name)
htmlcode <- "<center>\n<img src='%s' width='%s'  height='%s' class='preview-image'>\n<br/>\n**%s** by <a href='https://www.flickr.com/photos/jferrer/%s' target='flickr'>CEBA LEE @ flickr</a><br/></center>"
```

```{r}
#| echo: false
#| output: asis
seleccion <- c("little critters in Darwin", "Tortuga bebé")
photos <- all_photos %>% filter(title %in% seleccion) 
show_photo <- photos %>% 
    slice_sample(n=1) %>%
    transmute(code = sprintf(htmlcode, url_m, width_m, height_m, title, id)) %>% pull()
cat(show_photo)
```



<blockquote class="imgur-embed-pub" lang="en" data-id="sFif3IE"><a href="https://imgur.com/sFif3IE">View post on imgur.com</a></blockquote><script async src="//s.imgur.com/min/embed.js" charset="utf-8"></script>


## Observaciones en iNaturalist

```{r}
#| echo: false
file_name <- here::here("data","iNaturalist-obs-NeoMapas.rds")
all_photos <- readRDS(file=file_name) 
paths <- all_photos %>% 
    filter(grepl("Darwin",place_guess)) %>% 
    pull(image_url)
captions <- all_photos %>% 
    filter(grepl("Darwin",place_guess)) %>% 
    transmute(caption=sprintf("<strong>%s</strong> (<emph>%s</emph>) by <a href='%s' target='iNat'>NeoMapas @ iNaturalist</a>",species_guess,scientific_name,url)) %>% pull()

pixgallery(paths, caption=captions)
```